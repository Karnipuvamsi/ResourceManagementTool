<core:FragmentDefinition xmlns:core="sap.ui.core"
                         xmlns="sap.m"
                         xmlns:f="sap.ui.layout.form"
                         xmlns:mdc="sap.ui.mdc"
                         xmlns:mdct="sap.ui.mdc.table">
    <VBox class="sapUiSmallMargin">
        <!-- Panel for Table -->
        <Panel class="sapUiResponsiveMargin" expandable="false">
            <Toolbar>
                <Select
                    id="resViewSelect"
                    selectedKey="employees"                    
                    change="onAllocationViewChange">
                    <core:Item key="employees" text="Employees" />
                    <core:Item key="projects" text="Projects" />
                </Select>
                <ToolbarSpacer />
                <Input 
                    id="Resinput_Customer" 
                    placeholder="Select Customer"
                    enabled="true"
                    showValueHelp="true"
                    valueHelpRequest="onCustomerValueHelpRequest"
                    change="onResCustomerChange" />
                <Input 
                    id="Resinput_Opportunity" 
                    placeholder="Select Opportunity"
                    enabled="false"
                    showValueHelp="true"
                    valueHelpRequest="onResOpportunityValueHelpRequest"
                    change="onResOpportunityChange" />
                <Input 
                    id="Resinput_Project" 
                    placeholder="Select Project"
                    enabled="false"
                    showValueHelp="true"
                    valueHelpRequest="onResProjectValueHelpRequest"
                    change="onResProjectChange" />
                <Input 
                    id="Resinput_Demand" 
                    placeholder="Select Demand"
                    enabled="false"
                    showValueHelp="true"
                    valueHelpRequest="onResDemandValueHelpRequest" />
                <SearchField
                    id="employeeSearchFieldRes"
                    width="300px"
                    placeholder="Search employees..."
                    liveChange="onResSearch"
                    search="onResSearch" />       
            </Toolbar>
            <ScrollContainer height="380px" vertical="true" horizontal="false">
                <mdc:Table
                    id="Res"
                    header="Employees"
                    class="verticalsTable rowDetailToggleTable"
                    autoBindOnInit="false"
                    busyIndicatorDelay="0"
                    width="100%"
                    p13nMode="Column,Sort,Filter,Group"
                    selectionMode="Single"
                    delegate='{
                        "name": "glassboard/delegate/EmployeesTableDelegate",
                        "payload": {
                            "collectionPath": "Employees"
                        }
                    }'
                    showRowCount="true"
                    threshold="1000"
                    enableExport="true"
                    enableAutoColumnWidth="false"
                    selectionChange="onSelectionChange"
                    type="Table">

                   

                    <mdc:actions>
                        <SegmentedButton 
                            selectedKey="less"
                            selectionChange="onToggleRowDetail"
                            tooltip="Toggle Row Details">
                            <items>
                                <SegmentedButtonItem key="more" icon="sap-icon://detail-more" tooltip="Show More"/>
                                <SegmentedButtonItem key="less" icon="sap-icon://detail-less" tooltip="Show Less"/>
                            </items>
                        </SegmentedButton>
                        <Button icon="sap-icon://delete" id="Delete_res1" tooltip="Delete" press="onDeletePress" enabled="false" />
                        <Button text="Allocate" id="btnResAllocate" press="onAllocateRes" enabled="false"/>
                        <SplitButton
                            id="employeeUpload2"
                            icon="sap-icon://upload"
                            tooltip="Upload"
                            type="Transparent"
                            press="onUpload"
                            arrowPress="onSplitButtonArrowPress"
                        />
                    </mdc:actions>
                </mdc:Table>
            </ScrollContainer>
        </Panel>
        <HBox width="100%" class="extraSpace"><ToolbarSpacer /></HBox>
        <!-- Panel for Form -->
        <Panel headerText="Employee Allocation Details" class="sapUiResponsiveMargin" expandable="false">
            <VBox class="sapUiSmallMargin">
                <!-- Employee allocation details form can be added here if needed -->
            </VBox>
        </Panel>
    </VBox>
</core:FragmentDefinition>
