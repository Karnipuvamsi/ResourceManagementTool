<core:FragmentDefinition
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:f="sap.ui.layout.form"
    xmlns:mdc="sap.ui.mdc"
    xmlns:mdct="sap.ui.mdc.table"
>
    <VBox class="sapUiSmallMargin">
        <!-- Panel for Table -->
        <Panel class="sapUiResponsiveMargin" expandable="false">
            <!-- FilterBar with Go and Adapt Filters -->
            <!-- <mdc:FilterBar
                id="customerFilterBar"
                delegate='{
                    "name": "glassboard/delegate/CustomersFilterBarDelegate",
                    "payload": {
                        "collectionPath": "Customers"
                    }
                }'
                search="onFilterSearch"
                clear="onFilterBarClear"
                showAdaptFiltersButton="true"
                showClearButton="true"
                showGoButton="true"
                showRestoreButton="true"
                filterConditions="{filterModel>/conditions}"
                p13nMode="Item,Value">
            </mdc:FilterBar> -->
            
            <Toolbar>
                <ToolbarSpacer />
                <SearchField
                    id="customerSearchField"
                    width="300px"
                    placeholder="Search customers..."
                    liveChange="onCustomerSearch"
                    search="onCustomerSearch" />
            </Toolbar>
            <!-- <ScrollContainer height="350px" vertical="true" horizontal="false"> -->
                <mdc:Table
                    id="Customers"
                    header="Count"
                    class="verticalsTable rowDetailToggleTable"
                    autoBindOnInit="false"
                    busyIndicatorDelay="0"
                    width="100%"
                    p13nMode="Column,Sort,Filter,Group"
                    selectionMode="Single"
                    delegate='{
                        "name": "glassboard/delegate/CustomersTableDelegate",
                        "payload": {
                            "collectionPath": "Customers"
                        }
                    }'
                    showRowCount="true"
                    threshold="1000"
                    enableExport="true"
                    enableAutoColumnWidth="false"
                    filter="customerFilterBar"
                    filterConditions="{filterModel>/conditions}"
                    selectionChange="onSelectionChange"
                    type="Table"
                >
                   

                    <mdc:actions>
                        <SegmentedButton selectedKey="less" selectionChange="onToggleRowDetail" tooltip="Toggle Row Details">
                            <items>
                                <SegmentedButtonItem key="more" icon="sap-icon://detail-more" tooltip="Show More" />
                                <SegmentedButtonItem key="less" icon="sap-icon://detail-less" tooltip="Show Less" />
                            </items>
                        </SegmentedButton>
                        <Button icon="sap-icon://delete" id="btnDelete_cus" tooltip="Delete" press="onDeletePress" enabled="false" />
                        <SplitButton id="customerUpload" icon="sap-icon://upload" tooltip="Upload" type="Transparent" press="onUpload" arrowPress="onSplitButtonArrowPress" />
                    </mdc:actions>

                    <mdc:copyProvider>
                        <!-- <plugins:CopyProvider id="copyProvider" /> -->
                    </mdc:copyProvider>
                </mdc:Table>
            <!-- </ScrollContainer> -->
        </Panel>
        <HBox width="100%" class="extraSpace"><ToolbarSpacer /></HBox>
        <!-- Panel for Form -->
        <Panel headerText="Customer Details" class="sapUiResponsiveMargin" expandable="false">
            <VBox class="sapUiSmallMargin">
                <HBox width="100%">
                    <!-- Left Column -->
                    <VBox width="50%" class="sapUiSmallMarginEnd">
                        <f:SimpleForm
                            layout="ResponsiveGridLayout"
                            editable="true"
                            labelSpanL="3"
                            labelSpanM="3"
                            adjustLabelSpan="false"
                            emptySpanL="1"
                            emptySpanM="1"
                            columnsL="1"
                            columnsM="1"
                            class="sapUiNoContentPadding">
                            <Label text="Customer ID" />
                            <Input id="inputCustomerId" value="{customerModel>/SAPcustId}" width="100%" enabled="false" placeholder="Auto-generated" />
                            
                            <Label text="Customer Name" required="true" />
                            <Input id="inputCustomerName" value="{customerModel>/customerName}" width="100%" required="true" />
                            
                            <Label text="Country" required="true" />
                            <Select id="inputCountry" selectedKey="{customerModel>/country}" width="100%" change="onCountryChange" required="true">
                                <items>
                                    <core:Item key="" text="Select Country..." />
                                </items>
                            </Select>
                            
                            <Label text="City" required="true" />
                            <Select id="inputCity" selectedKey="{customerModel>/city}" width="100%" required="true">
                                <items>
                                    <core:Item key="" text="Select City..." />
                                </items>
                            </Select>
                        </f:SimpleForm>
                    </VBox>
                    
                    <!-- Right Column -->
                    <VBox width="50%" class="sapUiSmallMarginBegin">
                        <f:SimpleForm
                            layout="ResponsiveGridLayout"
                            editable="true"
                            labelSpanL="3"
                            labelSpanM="3"
                            adjustLabelSpan="false"
                            emptySpanL="1"
                            emptySpanM="1"
                            columnsL="1"
                            columnsM="1"
                            class="sapUiNoContentPadding">
                            <Label text="Status" required="true" />
                            <Select id="inputStatus" selectedKey="{customerModel>/status}" width="100%" required="true">
                                <items>
                                    <core:Item key="" text="Select Status..." />
                                    <core:Item key="A" text="Active" />
                                    <core:Item key="I" text="Inactive" />
                                    <core:Item key="P" text="Prospect" />
                                </items>
                            </Select>
                            
                            <Label text="Vertical" required="true" />
                            <Select id="inputVertical" selectedKey="{customerModel>/vertical}" width="100%" required="true">
                                <items>
                                    <core:Item key="" text="Select Vertical..." />
                                    <core:Item key="BFS" text="BFS" />
                                    <core:Item key="CapitalMarkets" text="Capital Markets" />
                                    <core:Item key="CPG" text="CPG" />
                                    <core:Item key="Healthcare" text="Healthcare" />
                                    <core:Item key="HighTech" text="High Tech" />
                                    <core:Item key="Insurance" text="Insurance" />
                                    <core:Item key="LifeSciences" text="Life Sciences" />
                                    <core:Item key="Manufacturing" text="Manufacturing" />
                                    <core:Item key="Retail" text="Retail" />
                                    <core:Item key="Services" text="Services" />
                                </items>
                            </Select>
                        </f:SimpleForm>
                    </VBox>
                </HBox>
                
                <!-- Buttons Row -->
                <HBox class="sapUiMediumMarginTop" justifyContent="Center" width="100%">
                    <Button id="editButton_cus" text="Edit" type="Emphasized" press="onEditCustomerForm" enabled="false" class="sapUiSmallMarginEnd" />
                    <Button id="submitButton_cus" text="Submit" type="Accept" press="onSubmitCustomer" />
                    <Button id="cancelFormButton_cus" text="Cancel" type="Reject" press="onCancelForm" class="sapUiSmallMarginBegin" />
                </HBox>
            </VBox>
        </Panel>
    </VBox>
</core:FragmentDefinition>