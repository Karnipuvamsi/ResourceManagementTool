<core:FragmentDefinition xmlns:core="sap.ui.core"
                         xmlns="sap.m">
    <Dialog
        id="findResourcesDialog"
        title="Find Resources"
        contentWidth="800px"
        contentHeight="600px"
        draggable="true"
        resizable="true"
        class="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer"
        afterClose="onFindResourcesDialogClose">
        
        <VBox class="sapUiSmallMargin">
            <Label text="Select an employee on bench to allocate:" />
            <SearchField
                id="findResourcesSearchField"
                width="100%"
                placeholder="Search employees by name..."
                liveChange="onFindResourcesSearch"
                search="onFindResourcesSearch" />
            
            <ScrollContainer height="400px" vertical="true" horizontal="false">
                <Table
                    id="findResourcesTable"
                    mode="SingleSelectMaster"
                    selectionChange="onFindResourcesSelectionChange"
                    items="{
                        path: '/Employees',
                        filters: [{
                            path: 'status',
                            operator: 'EQ',
                            value1: 'Bench'
                        }],
                        sorter: [{
                            path: 'fullName',
                            descending: false
                        }]
                    }">
                    <columns>
                        <Column>
                            <Text text="OHR ID" />
                        </Column>
                        <Column>
                            <Text text="Full Name" />
                        </Column>
                        <Column>
                            <Text text="Band" />
                        </Column>
                        <Column>
                            <Text text="Role" />
                        </Column>
                        <Column>
                            <Text text="Skills" />
                        </Column>
                        <Column>
                            <Text text="Location" />
                        </Column>
                    </columns>
                    <items>
                        <ColumnListItem>
                            <cells>
                                <Text text="{ohrId}" />
                                <Text text="{fullName}" />
                                <Text text="{band}" />
                                <Text text="{role}" />
                                <Text text="{skills}" />
                                <Text text="{location}" />
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </ScrollContainer>
            
            <VBox class="sapUiSmallMarginTop">
                <Label text="Allocation Details:" />
                <HBox class="sapUiSmallMarginTop">
                    <VBox class="sapUiSmallMarginEnd" width="50%">
                        <Label text="Start Date" labelFor="allocationStartDate" />
                        <DatePicker
                            id="allocationStartDate"
                            valueFormat="yyyy-MM-dd"
                            displayFormat="long"
                            placeholder="Select start date" />
                    </VBox>
                    <VBox width="50%">
                        <Label text="End Date" labelFor="allocationEndDate" />
                        <DatePicker
                            id="allocationEndDate"
                            valueFormat="yyyy-MM-dd"
                            displayFormat="long"
                            placeholder="Select end date" />
                    </VBox>
                </HBox>
                <HBox class="sapUiSmallMarginTop">
                    <VBox class="sapUiSmallMarginEnd" width="50%">
                        <Label text="Allocation Percentage" labelFor="allocationPercentage" />
                        <Input
                            id="allocationPercentage"
                            type="Number"
                            placeholder="0-100"
                            value="100"
                            maxLength="3" />
                    </VBox>
                </HBox>
            </VBox>
        </VBox>
        
        <beginButton>
            <Button 
                text="Allocate" 
                type="Emphasized" 
                press="onFindResourcesAllocate"
                enabled="false"
                id="btnFindResourcesAllocate" />
        </beginButton>
        
        <endButton>
            <Button 
                icon="sap-icon://decline" 
                press="onFindResourcesDialogClose" />
        </endButton>
    </Dialog>
</core:FragmentDefinition>

